) -> xdf
xdf %>%
count(parts, wt = vals) %>%
ggplot(aes(fill = parts, values = n)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE) +
scale_fill_manual(
name = NULL,
values = c("#a40000", "#c68958", "#ae6056"),
labels = c("Fruit", "Sammich", "Pizza")
) +
coord_equal() +
theme_ipsum_rc(grid="") +
theme_enhance_waffle()
install.packages("waffle")
library(waffle)
xdf %>%
count(parts, wt = vals) %>%
ggplot(aes(fill = parts, values = n)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE) +
scale_fill_manual(
name = NULL,
values = c("#a40000", "#c68958", "#ae6056"),
labels = c("Fruit", "Sammich", "Pizza")
) +
coord_equal() +
theme_ipsum_rc(grid="") +
theme_enhance_waffle()
library(waffle)
xdf %>%
count(parts, wt = vals) %>%
ggplot(aes(fill = parts, values = n)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE) +
scale_fill_manual(
name = NULL,
values = c("#a40000", "#c68958", "#ae6056"),
labels = c("Fruit", "Sammich", "Pizza")
) +
coord_equal() +
theme_ipsum_rc(grid="") +
theme_enhance_waffle()
xdf %>%
count(parts, wt = vals) %>%
ggplot(aes(fill = parts, values = n)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE) +
scale_fill_manual(
name = NULL,
values = c("#a40000", "#c68958", "#ae6056"),
labels = c("Fruit", "Sammich", "Pizza")
) +
coord_equal()
remove.packages("waffle", lib="~/R/win-library/4.0")
install.packages("remotes")
remotes::install_github("hrbrmstr/waffle")
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Pheobe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count))
devtools::install_github("hrbrmstr/waffle")
devtools::install_github("hrbrmstr/waffle")
install.packages("backports")
devtools::install_github("hrbrmstr/waffle")
library(waffle)
xdf %>%
count(parts, wt = vals) %>%
ggplot(aes(fill = parts, values = n)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE) +
scale_fill_manual(
name = NULL,
values = c("#a40000", "#c68958", "#ae6056"),
labels = c("Fruit", "Sammich", "Pizza")
) +
coord_equal()
library(tidyverse)
library(tidytext)
xdf %>%
count(parts, wt = vals) %>%
ggplot(aes(fill = parts, values = n)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE) +
scale_fill_manual(
name = NULL,
values = c("#a40000", "#c68958", "#ae6056"),
labels = c("Fruit", "Sammich", "Pizza")
) +
coord_equal()
View(friends.parsed)
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Pheobe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count)) %>%
xdf %>%
count(parts, wt = vals) %>%
ggplot(aes(fill = parts, values = n)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE) +
scale_fill_manual(
name = NULL,
values = c("#a40000", "#c68958", "#ae6056"),
labels = c("Fruit", "Sammich", "Pizza")
) +
coord_equal()
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Pheobe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count))
View(friends.parsed)
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Pheobe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count)) %>%
ggplot(aes(fill = speaker, values = word_sum)) +
geom_waffles(n_rows = 20, size = 0.33, colour = "white", flip = TRUE))
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Pheobe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count)) %>%
ggplot(aes(fill = speaker, values = word_sum)) +
geom_waffles(n_rows = 20, size = 0.33, colour = "white", flip = TRUE)
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Pheobe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count)) %>%
ggplot(aes(fill = speaker, values = word_sum)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE)
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Pheobe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count))
ggplot(friends.parsed, aes(fill = speaker, values = word_sum)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE)
View(friends.parsed)
ggplot(friends.parsed, aes(fill = speaker, values = word_sum)) +
geom_waffle(n_rows = 20, size = 0.33, colour = "white", flip = TRUE) +
facet_wrap(~season)
ggplot(friends.parsed, aes(fill = speaker, values = word_sum)) +
geom_waffle(n_rows = 10, size = 0.33, colour = "white", flip = TRUE) +
facet_wrap(~season)
ggplot(friends.parsed, aes(fill = speaker, values = word_sum)) +
geom_waffle(n_rows = 10, size = 0.33) +
facet_wrap(~season)
ggplot(friends.parsed, aes(fill = speaker, values = word_sum))
ggplot(friends.parsed, aes(fill = speaker, values = word_sum)) +
geom_waffle()
ggplot(friends.parsed, aes(fill = speaker, values = word_sum)) +
geom_waffle() + coord_equal()
library(tidyverse)
library(tidytext)
library(here)
library(extrafont)
friends <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-08/friends.csv')
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Phoebe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count))
friends.parsed %>%
group_by(speaker) %>%
summarise(total_sum = sum(word_sum))
ggplot(friends.parsed, aes(season, word_sum, colour = speaker)) +
geom_line(size = 1) +
geom_point(size = 4) +
lims(y = c(5000,14000)) +
scale_x_continuous(n.breaks = 10) +
scale_colour_manual(values = c("#5CA1D1", "#EC5244", "#FADC4A", "#9A6324", "#FEF590", "#4363d8")) +
labs(title = "The One Who Spoke the Most?",
subtitle = "Aggregated dialogue per season",
caption = "@CSHoggard | Source: friends R package | #TidyTuesday Week 37",
x = "Season",
y = "Word count") +
guides(colour = guide_legend(nrow = 1)) +
theme_minimal() +
theme(text = element_text(family = "IBM Plex Mono Bold"),
legend.position = "bottom",
legend.title = element_blank(),
legend.text = element_text(color = "grey97", size = 11),
plot.margin = margin(20, 20, 20, 20),
plot.background = element_rect(fill = "grey5"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(color = "grey97"),
axis.title.x = element_text(color = "grey97", margin = margin(20, 0, 5, 0)),
axis.text.y = element_text(color = "grey97", margin = margin(0, 20, 0, 5)),
axis.title.y = element_text(color = "grey97"),
plot.title = element_text(color = "grey97", size = 24, margin = margin(0, 0, 20, 0)),
plot.subtitle = element_text(color = "grey97", size = 14, margin = margin(0, 0, 20, 0)),
plot.caption = element_text(size = 8, colour = "grey97", margin = margin(20, 0, 0, 0)))
ggplot(friends.parsed, aes(season, word_sum, colour = speaker)) +
geom_line(size = 1) +
geom_point(size = 4) +
lims(y = c(5000,14000)) +
scale_x_continuous(n.breaks = 10) +
scale_colour_manual(values = c("#5CA1D1", "#EC5244", "#FADC4A", "#9A6324", "#FEF590", "#4363d8")) +
labs(title = "The One Who Spoke the Most?",
subtitle = "Aggregated dialogue per season",
caption = "@CSHoggard | Source: friends R package | #TidyTuesday Week 37",
x = "Season",
y = "Word count") +
guides(colour = guide_legend(nrow = 1)) +
theme_minimal() +
theme(text = element_text(family = "IBM Plex Mono"),
legend.position = "bottom",
legend.title = element_blank(),
legend.text = element_text(color = "grey97", size = 11),
plot.margin = margin(20, 20, 20, 20),
plot.background = element_rect(fill = "grey5"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(color = "grey97"),
axis.title.x = element_text(color = "grey97", margin = margin(20, 0, 5, 0)),
axis.text.y = element_text(color = "grey97", margin = margin(0, 20, 0, 5)),
axis.title.y = element_text(color = "grey97"),
plot.title = element_text(color = "grey97", size = 24, margin = margin(0, 0, 20, 0)),
plot.subtitle = element_text(color = "grey97", size = 14, margin = margin(0, 0, 20, 0)),
plot.caption = element_text(size = 8, colour = "grey97", margin = margin(20, 0, 0, 0)))
ggplot(friends.parsed, aes(season, word_sum, colour = speaker)) +
geom_line(size = 1) +
geom_point(size = 4) +
lims(y = c(5000,14000)) +
scale_x_continuous(n.breaks = 10) +
scale_colour_manual(values = c("#5CA1D1", "#EC5244", "#FADC4A", "#9A6324", "#FEF590", "#4363d8")) +
labs(title = "The One Who Spoke the Most?",
subtitle = "Aggregated dialogue per season",
caption = "@CSHoggard | Source: friends R package | #TidyTuesday Week 37",
x = "Season",
y = "Word count") +
guides(colour = guide_legend(nrow = 1)) +
theme_minimal() +
theme(text = element_text(family = "IBM Plex Sans"),
legend.position = "bottom",
legend.title = element_blank(),
legend.text = element_text(color = "grey97", size = 11),
plot.margin = margin(20, 20, 20, 20),
plot.background = element_rect(fill = "grey5"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(color = "grey97"),
axis.title.x = element_text(color = "grey97", margin = margin(20, 0, 5, 0)),
axis.text.y = element_text(color = "grey97", margin = margin(0, 20, 0, 5)),
axis.title.y = element_text(color = "grey97"),
plot.title = element_text(color = "grey97", size = 24, margin = margin(0, 0, 20, 0)),
plot.subtitle = element_text(color = "grey97", size = 14, margin = margin(0, 0, 20, 0)),
plot.caption = element_text(size = 8, colour = "grey97", margin = margin(20, 0, 0, 0)))
ggplot(friends.parsed, aes(season, word_sum, colour = speaker)) +
geom_line(size = 1) +
geom_point(size = 4) +
lims(y = c(5000,14000)) +
scale_x_continuous(n.breaks = 10) +
scale_colour_manual(values = c("#5CA1D1", "#EC5244", "#FADC4A", "#9A6324", "#FEF590", "#4363d8")) +
labs(title = "The One Who Spoke the Most?",
subtitle = "Aggregated dialogue per season",
caption = "@CSHoggard | Source: friends R package | #TidyTuesday Week 37",
x = "Season",
y = "Word count") +
guides(colour = guide_legend(nrow = 1)) +
theme_minimal() +
theme(text = element_text(family = "IBM Plex Sans"),
legend.position = "bottom",
legend.title = element_blank(),
legend.text = element_text(color = "grey97", size = 11),
plot.margin = margin(20, 20, 20, 20),
plot.background = element_rect(fill = "grey5"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(color = "grey97"),
axis.title.x = element_text(color = "grey97", margin = margin(20, 0, 5, 0)),
axis.text.y = element_text(color = "grey97", margin = margin(0, 20, 0, 5)),
axis.title.y = element_text(color = "grey97"),
plot.title = element_text(color = "grey97", size = 32, margin = margin(0, 0, 20, 0)),
plot.subtitle = element_text(color = "grey97", size = 14, margin = margin(0, 0, 20, 0)),
plot.caption = element_text(size = 8, colour = "grey97", margin = margin(20, 0, 0, 0)))
showtext_auto()
library(ggtext)
showtext_auto()
library(ggtext)
library(extrafont)
showtext_auto()
library(showtext)
showtext_auto()
font_add(family = "friends", regular = "GABRWFFR.TTF")
showtext_auto()
font_add(family = "friends", regular = "C:\USERS\CSHOG\APPDATA\LOCAL\MICROSOFT\WINDOWS\FONTS\GABRWFFR.TTF")
font_add(family = "friends", regular = "USERS/CSHOG/APPDATA/LOCAL/MICROSOFT/WINDOWS/FONTS/GABRWFFR.TTF")
font_add(family = "friends", regular = "USERS\CSHOG\APPDATA\LOCAL\MICROSOFT\WINDOWS\FONTS\GABRWFFR.TTF")
font_add(family = "friends", regular = "GABRWFFR.TTF")
font_paths()
head(font_files())
d <- font_files()
View(d)
font_add(family = "friends", regular = "GABRWFFR.TFF")
showtext_auto()
font_add(family = "friends", regular = "GABRWFFR.TFF")
library(tidyverse)
library(tidytext)
library(here)
library(extrafont)
library(showtext)
friends <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-08/friends.csv')
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Phoebe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count))
friends.parsed %>%
group_by(speaker) %>%
summarise(total_sum = sum(word_sum))
showtext_auto()
font_add(family = "friends", regular = "GABRWFFR.TFF")
ggplot(friends.parsed, aes(season, word_sum, colour = speaker)) +
geom_line(size = 1) +
geom_point(size = 4) +
lims(y = c(5000,14000)) +
scale_x_continuous(n.breaks = 10) +
scale_colour_manual(values = c("#5CA1D1", "#EC5244", "#FADC4A", "#9A6324", "#FEF590", "#4363d8")) +
labs(title = "The One Who Spoke the Most?",
subtitle = "Aggregated dialogue per season",
caption = "@CSHoggard | Source: friends R package | #TidyTuesday Week 37",
x = "Season",
y = "Word count") +
guides(colour = guide_legend(nrow = 1)) +
theme_minimal() +
theme(text = element_text(family = "IBM Plex Sans"),
legend.position = "bottom",
legend.title = element_blank(),
legend.text = element_text(color = "grey97", size = 11),
plot.margin = margin(20, 20, 20, 20),
plot.background = element_rect(fill = "grey5"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(color = "grey97"),
axis.title.x = element_text(color = "grey97", margin = margin(20, 0, 5, 0)),
axis.text.y = element_text(color = "grey97", margin = margin(0, 20, 0, 5)),
axis.title.y = element_text(color = "grey97"),
plot.title = element_text(color = "grey97", size = 32, margin = margin(0, 0, 20, 0)),
plot.subtitle = element_text(color = "grey97", size = 14, margin = margin(0, 0, 20, 0)),
plot.caption = element_text(size = 8, colour = "grey97", margin = margin(20, 0, 0, 0)))
warnings()
library(tidyverse)
library(tidytext)
library(here)
library(extrafont)
library(showtext)
ggplot(friends.parsed, aes(season, word_sum, colour = speaker)) +
geom_line(size = 1) +
geom_point(size = 4) +
lims(y = c(5000,14000)) +
scale_x_continuous(n.breaks = 10) +
scale_colour_manual(values = c("#5CA1D1", "#EC5244", "#FADC4A", "#9A6324", "#FEF590", "#4363d8")) +
labs(title = "The One Who Spoke the Most?",
subtitle = "Aggregated dialogue per season",
caption = "@CSHoggard | Source: friends R package | #TidyTuesday Week 37",
x = "Season",
y = "Word count") +
guides(colour = guide_legend(nrow = 1)) +
theme_minimal() +
theme(text = element_text(family = "IBM Plex Sans"),
legend.position = "bottom",
legend.title = element_blank(),
legend.text = element_text(color = "grey97", size = 11),
plot.margin = margin(20, 20, 20, 20),
plot.background = element_rect(fill = "grey5"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(color = "grey97"),
axis.title.x = element_text(color = "grey97", margin = margin(20, 0, 5, 0)),
axis.text.y = element_text(color = "grey97", margin = margin(0, 20, 0, 5)),
axis.title.y = element_text(color = "grey97"),
plot.title = element_text(color = "grey97", size = 32, margin = margin(0, 0, 20, 0)),
plot.subtitle = element_text(color = "grey97", size = 14, margin = margin(0, 0, 20, 0)),
plot.caption = element_text(size = 8, colour = "grey97", margin = margin(20, 0, 0, 0)))
library(tidyverse)
library(tidytext)
library(here)
library(extrafont)
friends <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-08/friends.csv')
friends.parsed <- friends %>% filter(speaker %in% c("Monica Geller",
"Joey Tribbiani",
"Chandler Bing",
"Rachel Green",
"Phoebe Buffay",
"Ross Geller")) %>%
mutate(
word_count = str_count(text, "\\w+"),
speaker = word(speaker)
) %>%
select(-utterance, -scene) %>%
group_by(speaker, season) %>%
summarise(word_sum = sum(word_count))
friends.parsed %>%
group_by(speaker) %>%
summarise(total_sum = sum(word_sum))
ggplot(friends.parsed, aes(season, word_sum, colour = speaker)) +
geom_line(size = 1) +
geom_point(size = 3) +
lims(y = c(5000,14000)) +
scale_x_continuous(n.breaks = 10) +
scale_colour_manual(values = c("#3F9DD4", "#008F48", "#F74035", "#9787CD", "#F6D400", "#941205")) +
labs(title = "The One About Who Spoke the Most?",
subtitle = "Total number of words per season",
caption = "@CSHoggard | Source: friends R package | #TidyTuesday Week 37",
x = "Season",
y = "Word count") +
annotate("text", x = 9, y = 13500, size = 4, colour = "grey97", family = "IBM Plex Sans", label = "Rachel spoke over 17,000 words \n more than Pheobe!") +
guides(colour = guide_legend(nrow = 1, override.aes = list(linetype = 0, size=4))) +
theme_minimal() +
theme(text = element_text(family = "IBM Plex Sans"),
legend.position = "top",
legend.title = element_blank(),
legend.text = element_text(color = "grey97", size = 11),
plot.margin = margin(20, 20, 20, 20),
plot.background = element_rect(fill = "grey5"),
panel.grid.major = element_blank(),
panel.grid.minor = element_line(size = 0.25, linetype = 'solid', colour = "grey10"),
axis.text.x = element_text(color = "grey97"),
axis.title.x = element_text(color = "grey97", margin = margin(20, 0, 5, 0)),
axis.text.y = element_text(color = "grey97", margin = margin(0, 20, 0, 5)),
axis.title.y = element_text(color = "grey97"),
plot.title = element_text(color = "grey97", size = 32, margin = margin(0, 0, 10, 0)),
plot.subtitle = element_text(color = "grey97", size = 14, margin = margin(0, 0, 20, 0)),
plot.caption = element_text(size = 9, colour = "grey97", margin = margin(20, 0, 0, 0)))
detach("package:here", unload = TRUE)
setwd("C:/Users/cshog/Dropbox/CHRISTIAN/Academic Work/Github/-TidyTuesday")
library(here)
font_import()
fonttable()
d <- fonttable()
View(d)
library(devtools)
install_github("Rttf2pt1", "wch")
install_github("extrafont", "wch")
install.packages("Rttf2pt1")
library(tidyverse)
library(tidytext)
library(here)
library(extrafont)
warnings()
